<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AgileRTOS (zrtos): atmega328p.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AgileRTOS (zrtos)<span id="projectnumber">&#160;0.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('atmega328p_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">atmega328p.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="atmega328p_8h__dep__incl.png" border="0" usemap="#aatmega328p_8hdep" alt=""/></div>
<map name="aatmega328p_8hdep" id="aatmega328p_8hdep">
<area shape="rect" title=" " alt="" coords="117,5,221,32"/>
<area shape="rect" href="zrtos__arch_8h.html" title=" " alt="" coords="122,80,216,107"/>
<area shape="poly" title=" " alt="" coords="172,48,172,80,166,80,166,48"/>
<area shape="rect" href="zrtos_8h.html" title=" " alt="" coords="138,155,200,181"/>
<area shape="poly" title=" " alt="" coords="172,122,172,154,166,154,166,122"/>
<area shape="rect" href="zrtos__task__mutex_8h.html" title=" " alt="" coords="186,229,322,256"/>
<area shape="poly" title=" " alt="" coords="197,189,241,227,238,231,193,194"/>
<area shape="rect" href="zrtos__task__scheduler_8h.html" title=" " alt="" coords="5,229,162,256"/>
<area shape="poly" title=" " alt="" coords="144,194,100,231,96,227,141,189"/>
<area shape="rect" href="zrtos__task__pthread_8h.html" title=" " alt="" coords="12,304,155,331"/>
<area shape="poly" title=" " alt="" coords="211,265,114,306,112,301,209,260"/>
<area shape="rect" href="zrtos__vheap__task__pthread_8h.html" title=" " alt="" coords="180,304,363,331"/>
<area shape="poly" title=" " alt="" coords="263,271,271,303,266,304,258,272"/>
<area shape="poly" title=" " alt="" coords="86,272,86,304,81,304,81,272"/>
</map>
</div>
</div>
<p><a href="atmega328p_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa605b670ce0b7269b3296a51f7746a27" id="r_aa605b670ce0b7269b3296a51f7746a27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa605b670ce0b7269b3296a51f7746a27">ZRTOS_ARCH__FOUND</a></td></tr>
<tr class="separator:aa605b670ce0b7269b3296a51f7746a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52712692b0ac48d8b86b36066406785b" id="r_a52712692b0ac48d8b86b36066406785b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52712692b0ac48d8b86b36066406785b">ZRTOS_ARCH__CPU_CLOCK_HZ</a>&#160;&#160;&#160;( ( uint32_t ) F_CPU )</td></tr>
<tr class="separator:a52712692b0ac48d8b86b36066406785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f2f242c34f581faf5b31331d0d6bdb" id="r_a04f2f242c34f581faf5b31331d0d6bdb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04f2f242c34f581faf5b31331d0d6bdb">ZRTOS_ARCH__BYTE_ALIGNMENT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a04f2f242c34f581faf5b31331d0d6bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0738e44b5c061f62d7f6957c06c23f" id="r_a6f0738e44b5c061f62d7f6957c06c23f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f0738e44b5c061f62d7f6957c06c23f">ZRTOS_ARCH__FATAL</a>()&#160;&#160;&#160;((void(*)(void))0)();</td></tr>
<tr class="separator:a6f0738e44b5c061f62d7f6957c06c23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310e49b72283b2f2ab15e13a32f4fc06" id="r_a310e49b72283b2f2ab15e13a32f4fc06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a310e49b72283b2f2ab15e13a32f4fc06">ZRTOS_ARCH__SET_STACK_PTR</a>(ptr)&#160;&#160;&#160;    (SP = (uint16_t)(ptr))</td></tr>
<tr class="separator:a310e49b72283b2f2ab15e13a32f4fc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd14fa9c78d9b548ab767f5e38b7f345" id="r_abd14fa9c78d9b548ab767f5e38b7f345"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd14fa9c78d9b548ab767f5e38b7f345">ZRTOS_ARCH__GET_STACK_PTR</a>()&#160;&#160;&#160;    ((void*)SP)</td></tr>
<tr class="separator:abd14fa9c78d9b548ab767f5e38b7f345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcf5dd5b0924d6a448ca76d6945104d" id="r_a2fcf5dd5b0924d6a448ca76d6945104d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fcf5dd5b0924d6a448ca76d6945104d">ZRTOS_ARCH__IS_INTERRUPTS_DISABLED</a>()&#160;&#160;&#160;    ((SREG &amp; 0x80) == 0)</td></tr>
<tr class="separator:a2fcf5dd5b0924d6a448ca76d6945104d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a52a942e2bf819c2b87029a58826c3" id="r_a09a52a942e2bf819c2b87029a58826c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a52a942e2bf819c2b87029a58826c3">ZRTOS_ARCH__IS_INTERRUPTS_ENABLED</a>()&#160;&#160;&#160;    ((SREG &amp; 0x80) &gt; 0)</td></tr>
<tr class="separator:a09a52a942e2bf819c2b87029a58826c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a640e25694a864d28136fc49133f62" id="r_ad5a640e25694a864d28136fc49133f62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5a640e25694a864d28136fc49133f62">ZRTOS_ARCH__DISABLE_INTERRUPTS</a>()&#160;&#160;&#160;    asm volatile ( &quot;cli&quot; :: );</td></tr>
<tr class="separator:ad5a640e25694a864d28136fc49133f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b5c40219e3521c23691efdfc83755a" id="r_ac6b5c40219e3521c23691efdfc83755a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6b5c40219e3521c23691efdfc83755a">ZRTOS_ARCH__ENABLE_INTERRUPTS</a>()&#160;&#160;&#160;    asm volatile ( &quot;sei&quot; :: );</td></tr>
<tr class="separator:ac6b5c40219e3521c23691efdfc83755a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a24f4af1f5fddd9b171d6ddc51d9b3" id="r_af0a24f4af1f5fddd9b171d6ddc51d9b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0a24f4af1f5fddd9b171d6ddc51d9b3">zrtos_arch__cpu_state_init</a>&#160;&#160;&#160;<a class="el" href="#a0a7f99406f33a248301b9f008bf58ca9">zrtos_arch__cpu_state_init_a</a></td></tr>
<tr class="separator:af0a24f4af1f5fddd9b171d6ddc51d9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe71c47403848ec837ab4694267a0b54" id="r_abe71c47403848ec837ab4694267a0b54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe71c47403848ec837ab4694267a0b54">ZRTOS_ARCH__GET_CPU_STATE_BUFFER_LENGTH</a>()&#160;&#160;&#160;33</td></tr>
<tr class="separator:abe71c47403848ec837ab4694267a0b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e12069408a95bac028981da8630aed1" id="r_a5e12069408a95bac028981da8630aed1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e12069408a95bac028981da8630aed1">ZRTOS_ARCH__GET_FN_CALL_STACK_LENGTH</a>()&#160;&#160;&#160;20</td></tr>
<tr class="separator:a5e12069408a95bac028981da8630aed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8d20125ff9bea325027747731bb4d4" id="r_abd8d20125ff9bea325027747731bb4d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd8d20125ff9bea325027747731bb4d4">ZRTOS_ARCH__SAVE_CPU_STATE</a>()</td></tr>
<tr class="separator:abd8d20125ff9bea325027747731bb4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e942b41a42ef0069c4faa084e8ce16" id="r_ae7e942b41a42ef0069c4faa084e8ce16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7e942b41a42ef0069c4faa084e8ce16">ZRTOS_ARCH__SAVE_CPU_STATE_EX</a>(ptr)</td></tr>
<tr class="separator:ae7e942b41a42ef0069c4faa084e8ce16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb4fc060fe3f863a6209873f4b052f0" id="r_a1bb4fc060fe3f863a6209873f4b052f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bb4fc060fe3f863a6209873f4b052f0">ZRTOS_ARCH__LOAD_CPU_STATE</a>()</td></tr>
<tr class="separator:a1bb4fc060fe3f863a6209873f4b052f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab50b4df4cb26859ddb0b7ffd34876506" id="r_ab50b4df4cb26859ddb0b7ffd34876506"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab50b4df4cb26859ddb0b7ffd34876506">ZRTOS_ARCH__LOAD_CPU_STATE_EX</a>(ptr)</td></tr>
<tr class="separator:ab50b4df4cb26859ddb0b7ffd34876506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5147fe8b6fc6553050c0f115bf7091c0" id="r_a5147fe8b6fc6553050c0f115bf7091c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5147fe8b6fc6553050c0f115bf7091c0">ZRTOS_ARCH__RETURN_FROM_INTERRUPT</a>()&#160;&#160;&#160;    __asm__ __volatile__(&quot;reti&quot;);</td></tr>
<tr class="separator:a5147fe8b6fc6553050c0f115bf7091c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acaf56dbc954fa5dd28b5e1ad7c0f72c9" id="r_acaf56dbc954fa5dd28b5e1ad7c0f72c9"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a></td></tr>
<tr class="separator:acaf56dbc954fa5dd28b5e1ad7c0f72c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7456b566c8ab6b738a5795f419b0f319" id="r_a7456b566c8ab6b738a5795f419b0f319"><td class="memItemLeft" align="right" valign="top">typedef int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7456b566c8ab6b738a5795f419b0f319">zrtos_arch_stack_signed_t</a></td></tr>
<tr class="separator:a7456b566c8ab6b738a5795f419b0f319"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10f065b40729c7ec718bfcb83bfcb96a" id="r_a10f065b40729c7ec718bfcb83bfcb96a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10f065b40729c7ec718bfcb83bfcb96a">zrtos_arch__cpu_state_init_helper</a> (<a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *pxTopOfStack, <a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a> pxCode, void *pvParameters)</td></tr>
<tr class="separator:a10f065b40729c7ec718bfcb83bfcb96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5599edd96083ebf96ce87853d5f408f2" id="r_a5599edd96083ebf96ce87853d5f408f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5599edd96083ebf96ce87853d5f408f2">zrtos_arch__cpu_state_init_b</a> (<a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *thiz, <a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a> callback, void *args)</td></tr>
<tr class="separator:a5599edd96083ebf96ce87853d5f408f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7f99406f33a248301b9f008bf58ca9" id="r_a0a7f99406f33a248301b9f008bf58ca9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a7f99406f33a248301b9f008bf58ca9">zrtos_arch__cpu_state_init_a</a> (<a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *thiz, <a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a> callback, void *args)</td></tr>
<tr class="separator:a0a7f99406f33a248301b9f008bf58ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a04f2f242c34f581faf5b31331d0d6bdb" name="a04f2f242c34f581faf5b31331d0d6bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f2f242c34f581faf5b31331d0d6bdb">&#9670;&#160;</a></span>ZRTOS_ARCH__BYTE_ALIGNMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__BYTE_ALIGNMENT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00024">24</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="a52712692b0ac48d8b86b36066406785b" name="a52712692b0ac48d8b86b36066406785b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52712692b0ac48d8b86b36066406785b">&#9670;&#160;</a></span>ZRTOS_ARCH__CPU_CLOCK_HZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__CPU_CLOCK_HZ&#160;&#160;&#160;( ( uint32_t ) F_CPU )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00021">21</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="af0a24f4af1f5fddd9b171d6ddc51d9b3" name="af0a24f4af1f5fddd9b171d6ddc51d9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a24f4af1f5fddd9b171d6ddc51d9b3">&#9670;&#160;</a></span>zrtos_arch__cpu_state_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define zrtos_arch__cpu_state_init&#160;&#160;&#160;<a class="el" href="#a0a7f99406f33a248301b9f008bf58ca9">zrtos_arch__cpu_state_init_a</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00183">183</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="ad5a640e25694a864d28136fc49133f62" name="ad5a640e25694a864d28136fc49133f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a640e25694a864d28136fc49133f62">&#9670;&#160;</a></span>ZRTOS_ARCH__DISABLE_INTERRUPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__DISABLE_INTERRUPTS</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    asm volatile ( &quot;cli&quot; :: );</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00040">40</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span><span class="preprocessor">#define ZRTOS_ARCH__DISABLE_INTERRUPTS() \</span></div>
<div class="line"><span class="lineno">   41</span><span class="preprocessor">    asm volatile ( &quot;cli&quot; :: );</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6b5c40219e3521c23691efdfc83755a" name="ac6b5c40219e3521c23691efdfc83755a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b5c40219e3521c23691efdfc83755a">&#9670;&#160;</a></span>ZRTOS_ARCH__ENABLE_INTERRUPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__ENABLE_INTERRUPTS</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    asm volatile ( &quot;sei&quot; :: );</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00043">43</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span><span class="preprocessor">#define ZRTOS_ARCH__ENABLE_INTERRUPTS() \</span></div>
<div class="line"><span class="lineno">   44</span><span class="preprocessor">    asm volatile ( &quot;sei&quot; :: );</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f0738e44b5c061f62d7f6957c06c23f" name="a6f0738e44b5c061f62d7f6957c06c23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0738e44b5c061f62d7f6957c06c23f">&#9670;&#160;</a></span>ZRTOS_ARCH__FATAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__FATAL</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;((void(*)(void))0)();</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00026">26</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="aa605b670ce0b7269b3296a51f7746a27" name="aa605b670ce0b7269b3296a51f7746a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa605b670ce0b7269b3296a51f7746a27">&#9670;&#160;</a></span>ZRTOS_ARCH__FOUND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__FOUND</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00015">15</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="abe71c47403848ec837ab4694267a0b54" name="abe71c47403848ec837ab4694267a0b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe71c47403848ec837ab4694267a0b54">&#9670;&#160;</a></span>ZRTOS_ARCH__GET_CPU_STATE_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__GET_CPU_STATE_BUFFER_LENGTH</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;33</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00188">188</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="a5e12069408a95bac028981da8630aed1" name="a5e12069408a95bac028981da8630aed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e12069408a95bac028981da8630aed1">&#9670;&#160;</a></span>ZRTOS_ARCH__GET_FN_CALL_STACK_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__GET_FN_CALL_STACK_LENGTH</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00189">189</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="abd14fa9c78d9b548ab767f5e38b7f345" name="abd14fa9c78d9b548ab767f5e38b7f345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd14fa9c78d9b548ab767f5e38b7f345">&#9670;&#160;</a></span>ZRTOS_ARCH__GET_STACK_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__GET_STACK_PTR</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    ((void*)SP)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00031">31</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span><span class="preprocessor">#define ZRTOS_ARCH__GET_STACK_PTR() \</span></div>
<div class="line"><span class="lineno">   32</span><span class="preprocessor">    ((void*)SP)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fcf5dd5b0924d6a448ca76d6945104d" name="a2fcf5dd5b0924d6a448ca76d6945104d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcf5dd5b0924d6a448ca76d6945104d">&#9670;&#160;</a></span>ZRTOS_ARCH__IS_INTERRUPTS_DISABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__IS_INTERRUPTS_DISABLED</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    ((SREG &amp; 0x80) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00034">34</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   34</span><span class="preprocessor">#define ZRTOS_ARCH__IS_INTERRUPTS_DISABLED() \</span></div>
<div class="line"><span class="lineno">   35</span><span class="preprocessor">    ((SREG &amp; 0x80) == 0)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09a52a942e2bf819c2b87029a58826c3" name="a09a52a942e2bf819c2b87029a58826c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a52a942e2bf819c2b87029a58826c3">&#9670;&#160;</a></span>ZRTOS_ARCH__IS_INTERRUPTS_ENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__IS_INTERRUPTS_ENABLED</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    ((SREG &amp; 0x80) &gt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00037">37</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span><span class="preprocessor">#define ZRTOS_ARCH__IS_INTERRUPTS_ENABLED() \</span></div>
<div class="line"><span class="lineno">   38</span><span class="preprocessor">    ((SREG &amp; 0x80) &gt; 0)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1bb4fc060fe3f863a6209873f4b052f0" name="a1bb4fc060fe3f863a6209873f4b052f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb4fc060fe3f863a6209873f4b052f0">&#9670;&#160;</a></span>ZRTOS_ARCH__LOAD_CPU_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__LOAD_CPU_STATE</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00241">241</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span><span class="preprocessor">#define ZRTOS_ARCH__LOAD_CPU_STATE()                            \</span></div>
<div class="line"><span class="lineno">  242</span><span class="preprocessor">    ;__asm__ __volatile__(                                      \</span></div>
<div class="line"><span class="lineno">  243</span><span class="preprocessor">        &quot;pop    r31                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  244</span><span class="preprocessor">        &quot;pop    r30                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  245</span><span class="preprocessor">        &quot;pop    r29                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">        &quot;pop    r28                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  247</span><span class="preprocessor">        &quot;pop    r27                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  248</span><span class="preprocessor">        &quot;pop    r26                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  249</span><span class="preprocessor">        &quot;pop    r25                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  250</span><span class="preprocessor">        &quot;pop    r24                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  251</span><span class="preprocessor">        &quot;pop    r23                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  252</span><span class="preprocessor">        &quot;pop    r22                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  253</span><span class="preprocessor">        &quot;pop    r21                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  254</span><span class="preprocessor">        &quot;pop    r20                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  255</span><span class="preprocessor">        &quot;pop    r19                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  256</span><span class="preprocessor">        &quot;pop    r18                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  257</span><span class="preprocessor">        &quot;pop    r17                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  258</span><span class="preprocessor">        &quot;pop    r16                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  259</span><span class="preprocessor">        &quot;pop    r15                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  260</span><span class="preprocessor">        &quot;pop    r14                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  261</span><span class="preprocessor">        &quot;pop    r13                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  262</span><span class="preprocessor">        &quot;pop    r12                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  263</span><span class="preprocessor">        &quot;pop    r11                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  264</span><span class="preprocessor">        &quot;pop    r10                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">        &quot;pop    r9                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  266</span><span class="preprocessor">        &quot;pop    r8                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  267</span><span class="preprocessor">        &quot;pop    r7                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  268</span><span class="preprocessor">        &quot;pop    r6                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">        &quot;pop    r5                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  270</span><span class="preprocessor">        &quot;pop    r4                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  271</span><span class="preprocessor">        &quot;pop    r3                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  272</span><span class="preprocessor">        &quot;pop    r2                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  273</span><span class="preprocessor">        &quot;pop    __zero_reg__                            \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">        &quot;pop    __tmp_reg__                             \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  275</span><span class="preprocessor">        &quot;out    __SREG__, __tmp_reg__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  276</span><span class="preprocessor">        &quot;pop    __tmp_reg__                             \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  277</span><span class="preprocessor">    );</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab50b4df4cb26859ddb0b7ffd34876506" name="ab50b4df4cb26859ddb0b7ffd34876506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab50b4df4cb26859ddb0b7ffd34876506">&#9670;&#160;</a></span>ZRTOS_ARCH__LOAD_CPU_STATE_EX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__LOAD_CPU_STATE_EX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ;__asm__ __volatile__(                                      \</div>
<div class="line">        <span class="stringliteral">&quot;lds    __tmp_reg__, %0                         \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;out    __SP_L__, __tmp_reg__                   \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;lds    __tmp_reg__, %0 + 1                     \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;out    __SP_H__, __tmp_reg__                   \n\t&quot;</span>   \</div>
<div class="line">        : : <span class="stringliteral">&quot;m&quot;</span> (ptr)                                           \</div>
<div class="line">    );                                                          \</div>
<div class="line">    ZRTOS_ARCH__LOAD_CPU_STATE();</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00279">279</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  279</span><span class="preprocessor">#define ZRTOS_ARCH__LOAD_CPU_STATE_EX(ptr)                      \</span></div>
<div class="line"><span class="lineno">  280</span><span class="preprocessor">    ;__asm__ __volatile__(                                      \</span></div>
<div class="line"><span class="lineno">  281</span><span class="preprocessor">        &quot;lds    __tmp_reg__, %0                         \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  282</span><span class="preprocessor">        &quot;out    __SP_L__, __tmp_reg__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  283</span><span class="preprocessor">        &quot;lds    __tmp_reg__, %0 + 1                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">        &quot;out    __SP_H__, __tmp_reg__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  285</span><span class="preprocessor">        : : &quot;m&quot; (ptr)                                           \</span></div>
<div class="line"><span class="lineno">  286</span><span class="preprocessor">    );                                                          \</span></div>
<div class="line"><span class="lineno">  287</span><span class="preprocessor">    ZRTOS_ARCH__LOAD_CPU_STATE();</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5147fe8b6fc6553050c0f115bf7091c0" name="a5147fe8b6fc6553050c0f115bf7091c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5147fe8b6fc6553050c0f115bf7091c0">&#9670;&#160;</a></span>ZRTOS_ARCH__RETURN_FROM_INTERRUPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__RETURN_FROM_INTERRUPT</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;    __asm__ __volatile__(&quot;reti&quot;);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00289">289</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span><span class="preprocessor">#define ZRTOS_ARCH__RETURN_FROM_INTERRUPT() \</span></div>
<div class="line"><span class="lineno">  290</span><span class="preprocessor">    __asm__ __volatile__(&quot;reti&quot;);</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd8d20125ff9bea325027747731bb4d4" name="abd8d20125ff9bea325027747731bb4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8d20125ff9bea325027747731bb4d4">&#9670;&#160;</a></span>ZRTOS_ARCH__SAVE_CPU_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__SAVE_CPU_STATE</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00191">191</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span><span class="preprocessor">#define ZRTOS_ARCH__SAVE_CPU_STATE()                            \</span></div>
<div class="line"><span class="lineno">  192</span><span class="preprocessor">    ;__asm__ __volatile__(                                      \</span></div>
<div class="line"><span class="lineno">  193</span><span class="preprocessor">        &quot;push   __tmp_reg__                             \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  194</span><span class="preprocessor">        &quot;in     __tmp_reg__, __SREG__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  195</span><span class="preprocessor">        &quot;cli                                            \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  196</span><span class="preprocessor">        &quot;push   __tmp_reg__                             \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  197</span><span class="preprocessor">        &quot;push   __zero_reg__                            \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">        &quot;clr    __zero_reg__                            \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  199</span><span class="preprocessor">        &quot;push   r2                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  200</span><span class="preprocessor">        &quot;push   r3                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  201</span><span class="preprocessor">        &quot;push   r4                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">        &quot;push   r5                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  203</span><span class="preprocessor">        &quot;push   r6                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  204</span><span class="preprocessor">        &quot;push   r7                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  205</span><span class="preprocessor">        &quot;push   r8                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  206</span><span class="preprocessor">        &quot;push   r9                                      \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  207</span><span class="preprocessor">        &quot;push   r10                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  208</span><span class="preprocessor">        &quot;push   r11                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  209</span><span class="preprocessor">        &quot;push   r12                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  210</span><span class="preprocessor">        &quot;push   r13                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  211</span><span class="preprocessor">        &quot;push   r14                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  212</span><span class="preprocessor">        &quot;push   r15                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  213</span><span class="preprocessor">        &quot;push   r16                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  214</span><span class="preprocessor">        &quot;push   r17                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  215</span><span class="preprocessor">        &quot;push   r18                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  216</span><span class="preprocessor">        &quot;push   r19                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  217</span><span class="preprocessor">        &quot;push   r20                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  218</span><span class="preprocessor">        &quot;push   r21                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  219</span><span class="preprocessor">        &quot;push   r22                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  220</span><span class="preprocessor">        &quot;push   r23                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  221</span><span class="preprocessor">        &quot;push   r24                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">        &quot;push   r25                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  223</span><span class="preprocessor">        &quot;push   r26                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  224</span><span class="preprocessor">        &quot;push   r27                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  225</span><span class="preprocessor">        &quot;push   r28                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  226</span><span class="preprocessor">        &quot;push   r29                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  227</span><span class="preprocessor">        &quot;push   r30                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  228</span><span class="preprocessor">        &quot;push   r31                                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  229</span><span class="preprocessor">    );</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7e942b41a42ef0069c4faa084e8ce16" name="ae7e942b41a42ef0069c4faa084e8ce16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e942b41a42ef0069c4faa084e8ce16">&#9670;&#160;</a></span>ZRTOS_ARCH__SAVE_CPU_STATE_EX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__SAVE_CPU_STATE_EX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_define" href="#abd8d20125ff9bea325027747731bb4d4">ZRTOS_ARCH__SAVE_CPU_STATE</a>();                               \</div>
<div class="line">    ;__asm__ __volatile__(                                      \</div>
<div class="line">        <span class="stringliteral">&quot;in     __tmp_reg__, __SP_L__                   \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;sts    %0, __tmp_reg__                         \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;in     __tmp_reg__, __SP_H__                   \n\t&quot;</span>   \</div>
<div class="line">        <span class="stringliteral">&quot;sts    %0 + 1, __tmp_reg__                     \n\t&quot;</span>   \</div>
<div class="line">        : <span class="stringliteral">&quot;=m&quot;</span> (ptr)                                            \</div>
<div class="line">    );</div>
<div class="ttc" id="aatmega328p_8h_html_abd8d20125ff9bea325027747731bb4d4"><div class="ttname"><a href="#abd8d20125ff9bea325027747731bb4d4">ZRTOS_ARCH__SAVE_CPU_STATE</a></div><div class="ttdeci">#define ZRTOS_ARCH__SAVE_CPU_STATE()</div><div class="ttdef"><b>Definition</b> <a href="atmega328p_8h_source.html#l00191">atmega328p.h:191</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00231">231</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span><span class="preprocessor">#define ZRTOS_ARCH__SAVE_CPU_STATE_EX(ptr)                      \</span></div>
<div class="line"><span class="lineno">  232</span><span class="preprocessor">    ZRTOS_ARCH__SAVE_CPU_STATE();                               \</span></div>
<div class="line"><span class="lineno">  233</span><span class="preprocessor">    ;__asm__ __volatile__(                                      \</span></div>
<div class="line"><span class="lineno">  234</span><span class="preprocessor">        &quot;in     __tmp_reg__, __SP_L__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  235</span><span class="preprocessor">        &quot;sts    %0, __tmp_reg__                         \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  236</span><span class="preprocessor">        &quot;in     __tmp_reg__, __SP_H__                   \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  237</span><span class="preprocessor">        &quot;sts    %0 + 1, __tmp_reg__                     \n\t&quot;   \</span></div>
<div class="line"><span class="lineno">  238</span><span class="preprocessor">        : &quot;=m&quot; (ptr)                                            \</span></div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">    );</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a310e49b72283b2f2ab15e13a32f4fc06" name="a310e49b72283b2f2ab15e13a32f4fc06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310e49b72283b2f2ab15e13a32f4fc06">&#9670;&#160;</a></span>ZRTOS_ARCH__SET_STACK_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZRTOS_ARCH__SET_STACK_PTR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">ptr</span></td><td>)</td>
          <td>&#160;&#160;&#160;    (SP = (uint16_t)(ptr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00028">28</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span><span class="preprocessor">#define ZRTOS_ARCH__SET_STACK_PTR(ptr) \</span></div>
<div class="line"><span class="lineno">   29</span><span class="preprocessor">    (SP = (uint16_t)(ptr))</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7456b566c8ab6b738a5795f419b0f319" name="a7456b566c8ab6b738a5795f419b0f319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7456b566c8ab6b738a5795f419b0f319">&#9670;&#160;</a></span>zrtos_arch_stack_signed_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int8_t <a class="el" href="#a7456b566c8ab6b738a5795f419b0f319">zrtos_arch_stack_signed_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00019">19</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<a id="acaf56dbc954fa5dd28b5e1ad7c0f72c9" name="acaf56dbc954fa5dd28b5e1ad7c0f72c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">&#9670;&#160;</a></span>zrtos_arch_stack_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00018">18</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0a7f99406f33a248301b9f008bf58ca9" name="a0a7f99406f33a248301b9f008bf58ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7f99406f33a248301b9f008bf58ca9">&#9670;&#160;</a></span>zrtos_arch__cpu_state_init_a()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> * zrtos_arch__cpu_state_init_a </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *</td>          <td class="paramname"><span class="paramname"><em>thiz</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00148">148</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span> {</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *pxTopOfStack = thiz;</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *pxTopOfStackTmp = pxTopOfStack;</div>
<div class="line"><span class="lineno">  156</span>    uint16_t usAddress = (uint16_t)callback;</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_typedef" href="#a7456b566c8ab6b738a5795f419b0f319">zrtos_arch_stack_signed_t</a> usValue = 0;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    pxTopOfStack -= 3;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">for</span>(;usValue &lt; 32;){</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">/*if(usValue == 0x0A</span></div>
<div class="line"><span class="lineno">  163</span><span class="comment">        || usValue == 0x1A</span></div>
<div class="line"><span class="lineno">  164</span><span class="comment">        || usValue == 0x2A){</span></div>
<div class="line"><span class="lineno">  165</span><span class="comment">            usValue+=6;</span></div>
<div class="line"><span class="lineno">  166</span><span class="comment">        }*/</span></div>
<div class="line"><span class="lineno">  167</span>        *pxTopOfStack-- = usValue++;</div>
<div class="line"><span class="lineno">  168</span>    }</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    pxTopOfStackTmp[0] = usAddress &amp; 0x00ff;</div>
<div class="line"><span class="lineno">  171</span>    pxTopOfStackTmp[-1] = (usAddress &gt;&gt; 8) &amp; 0x00ff;</div>
<div class="line"><span class="lineno">  172</span>    pxTopOfStackTmp[-2] = 0;</div>
<div class="line"><span class="lineno">  173</span>    pxTopOfStackTmp[-3] = 0x80;<span class="comment">//enable interrupts</span></div>
<div class="line"><span class="lineno">  174</span>    pxTopOfStackTmp[-4] = 0;</div>
<div class="line"><span class="lineno">  175</span>    usAddress = (uint16_t)args;</div>
<div class="line"><span class="lineno">  176</span>    pxTopOfStackTmp[-27] = usAddress &amp; 0x00ff;</div>
<div class="line"><span class="lineno">  177</span>    pxTopOfStackTmp[-28] = (usAddress &gt;&gt; 8) &amp; 0x00ff;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">return</span> pxTopOfStack;</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aatmega328p_8h_html_a7456b566c8ab6b738a5795f419b0f319"><div class="ttname"><a href="#a7456b566c8ab6b738a5795f419b0f319">zrtos_arch_stack_signed_t</a></div><div class="ttdeci">int8_t zrtos_arch_stack_signed_t</div><div class="ttdef"><b>Definition</b> <a href="atmega328p_8h_source.html#l00019">atmega328p.h:19</a></div></div>
<div class="ttc" id="aatmega328p_8h_html_acaf56dbc954fa5dd28b5e1ad7c0f72c9"><div class="ttname"><a href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a></div><div class="ttdeci">uint8_t zrtos_arch_stack_t</div><div class="ttdef"><b>Definition</b> <a href="atmega328p_8h_source.html#l00018">atmega328p.h:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5599edd96083ebf96ce87853d5f408f2" name="a5599edd96083ebf96ce87853d5f408f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5599edd96083ebf96ce87853d5f408f2">&#9670;&#160;</a></span>zrtos_arch__cpu_state_init_b()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> * zrtos_arch__cpu_state_init_b </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *</td>          <td class="paramname"><span class="paramname"><em>thiz</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00129">129</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span> {</div>
<div class="line"><span class="lineno">  135</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  136</span><span class="comment">    ZRTOS_DEBUG__CODE(</span></div>
<div class="line"><span class="lineno">  137</span><span class="comment">        static uint8_t pattern = 0xF0;</span></div>
<div class="line"><span class="lineno">  138</span><span class="comment">        memset(thiz,(int)(pattern++),length);</span></div>
<div class="line"><span class="lineno">  139</span><span class="comment">    );</span></div>
<div class="line"><span class="lineno">  140</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a10f065b40729c7ec718bfcb83bfcb96a">zrtos_arch__cpu_state_init_helper</a>(</div>
<div class="line"><span class="lineno">  142</span>         thiz</div>
<div class="line"><span class="lineno">  143</span>        ,callback</div>
<div class="line"><span class="lineno">  144</span>        ,args</div>
<div class="line"><span class="lineno">  145</span>    );</div>
<div class="line"><span class="lineno">  146</span>}</div>
<div class="ttc" id="aatmega328p_8h_html_a10f065b40729c7ec718bfcb83bfcb96a"><div class="ttname"><a href="#a10f065b40729c7ec718bfcb83bfcb96a">zrtos_arch__cpu_state_init_helper</a></div><div class="ttdeci">zrtos_arch_stack_t * zrtos_arch__cpu_state_init_helper(zrtos_arch_stack_t *pxTopOfStack, zrtos_arch_callback_t pxCode, void *pvParameters)</div><div class="ttdef"><b>Definition</b> <a href="atmega328p_8h_source.html#l00047">atmega328p.h:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="atmega328p_8h_a5599edd96083ebf96ce87853d5f408f2_cgraph.png" border="0" usemap="#aatmega328p_8h_a5599edd96083ebf96ce87853d5f408f2_cgraph" alt=""/></div>
<map name="aatmega328p_8h_a5599edd96083ebf96ce87853d5f408f2_cgraph" id="aatmega328p_8h_a5599edd96083ebf96ce87853d5f408f2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,48"/>
<area shape="rect" href="atmega328p_8h.html#a10f065b40729c7ec718bfcb83bfcb96a" title=" " alt="" coords="207,5,360,48"/>
<area shape="poly" title=" " alt="" coords="159,24,191,24,191,29,159,29"/>
</map>
</div>

</div>
</div>
<a id="a10f065b40729c7ec718bfcb83bfcb96a" name="a10f065b40729c7ec718bfcb83bfcb96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f065b40729c7ec718bfcb83bfcb96a">&#9670;&#160;</a></span>zrtos_arch__cpu_state_init_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> * zrtos_arch__cpu_state_init_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pxTopOfStack</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zrtos__arch_8h.html#aa36ce2be34a1ed388ea0d61c3a872eb3">zrtos_arch_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>pxCode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="atmega328p_8h_source.html#l00047">47</a> of file <a class="el" href="atmega328p_8h_source.html">atmega328p.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>{</div>
<div class="line"><span class="lineno">   51</span>uint16_t usAddress;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">/* Simulate how the stack would look after a call to vPortYield() generated by</span></div>
<div class="line"><span class="lineno">   54</span><span class="comment">     * the compiler. */</span></div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">/* The start of the task code will be popped off the stack last, so place</span></div>
<div class="line"><span class="lineno">   57</span><span class="comment">     * it on first. */</span></div>
<div class="line"><span class="lineno">   58</span>    usAddress = ( uint16_t ) pxCode;</div>
<div class="line"><span class="lineno">   59</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) ( usAddress &amp; ( uint16_t ) 0x00ff );</div>
<div class="line"><span class="lineno">   60</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    usAddress &gt;&gt;= 8;</div>
<div class="line"><span class="lineno">   63</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) ( usAddress &amp; ( uint16_t ) 0x00ff );</div>
<div class="line"><span class="lineno">   64</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span><span class="preprocessor">#if defined(__AVR_3_BYTE_PC__)</span></div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">/* The AVR ATmega2560/ATmega2561 have 256KBytes of program memory and a 17-bit</span></div>
<div class="line"><span class="lineno">   69</span><span class="comment">     * program counter. When a code address is stored on the stack, it takes 3 bytes</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment">     * instead of 2 for the other ATmega* chips.</span></div>
<div class="line"><span class="lineno">   71</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">   72</span><span class="comment">     * Store 0 as the top byte since we force all task routines to the bottom 128K</span></div>
<div class="line"><span class="lineno">   73</span><span class="comment">     * of flash. We do this by using the .lowtext label in the linker script.</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">   75</span><span class="comment">     * In order to do this properly, we would need to get a full 3-byte pointer to</span></div>
<div class="line"><span class="lineno">   76</span><span class="comment">     * pxCode. That requires a change to GCC. Not likely to happen any time soon.</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">   78</span>    *pxTopOfStack = 0;</div>
<div class="line"><span class="lineno">   79</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   80</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">/* Next simulate the stack as if after a call to portSAVE_CONTEXT().</span></div>
<div class="line"><span class="lineno">   83</span><span class="comment">     * portSAVE_CONTEXT places the flags on the stack immediately after r0</span></div>
<div class="line"><span class="lineno">   84</span><span class="comment">     * to ensure the interrupts get disabled as soon as possible, and so ensuring</span></div>
<div class="line"><span class="lineno">   85</span><span class="comment">     *  the stack use is minimal should a context switch interrupt occur. */</span></div>
<div class="line"><span class="lineno">   86</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) 0x00; <span class="comment">/* R0 */</span></div>
<div class="line"><span class="lineno">   87</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   88</span>    *pxTopOfStack = 0x80;<span class="comment">//enable interrupts</span></div>
<div class="line"><span class="lineno">   89</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span><span class="preprocessor">#if defined(__AVR_3_BYTE_PC__)</span></div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">/* If we have an ATmega256x, we are also saving the EIND register.</span></div>
<div class="line"><span class="lineno">   94</span><span class="comment">     * We should default to 0.</span></div>
<div class="line"><span class="lineno">   95</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">   96</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) 0x00;    <span class="comment">/* EIND */</span></div>
<div class="line"><span class="lineno">   97</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">   98</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span><span class="preprocessor">#if defined(__AVR_HAVE_RAMPZ__)</span></div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">/* We are saving the RAMPZ register.</span></div>
<div class="line"><span class="lineno">  103</span><span class="comment">     * We should default to 0.</span></div>
<div class="line"><span class="lineno">  104</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  105</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) 0x00;    <span class="comment">/* RAMPZ */</span></div>
<div class="line"><span class="lineno">  106</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">  107</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">/* Now the remaining registers. The compiler expects R1 to be 0. */</span></div>
<div class="line"><span class="lineno">  110</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) 0x00;    <span class="comment">/* R1 */</span></div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">/* Leave R2 - R23 untouched */</span></div>
<div class="line"><span class="lineno">  113</span>    pxTopOfStack -= 23;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">/* Place the parameter on the stack in the expected location. */</span></div>
<div class="line"><span class="lineno">  116</span>    usAddress = ( uint16_t ) pvParameters;</div>
<div class="line"><span class="lineno">  117</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) ( usAddress &amp; ( uint16_t ) 0x00ff );</div>
<div class="line"><span class="lineno">  118</span>    pxTopOfStack--;</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    usAddress &gt;&gt;= 8;</div>
<div class="line"><span class="lineno">  121</span>    *pxTopOfStack = ( <a class="code hl_typedef" href="#acaf56dbc954fa5dd28b5e1ad7c0f72c9">zrtos_arch_stack_t</a> ) ( usAddress &amp; ( uint16_t ) 0x00ff );</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">/* Leave register R26 - R31 untouched */</span></div>
<div class="line"><span class="lineno">  124</span>    pxTopOfStack -= 7;</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">return</span> pxTopOfStack;</div>
<div class="line"><span class="lineno">  127</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="atmega328p_8h_a10f065b40729c7ec718bfcb83bfcb96a_icgraph.png" border="0" usemap="#aatmega328p_8h_a10f065b40729c7ec718bfcb83bfcb96a_icgraph" alt=""/></div>
<map name="aatmega328p_8h_a10f065b40729c7ec718bfcb83bfcb96a_icgraph" id="aatmega328p_8h_a10f065b40729c7ec718bfcb83bfcb96a_icgraph">
<area shape="rect" title=" " alt="" coords="207,5,360,48"/>
<area shape="rect" href="atmega328p_8h.html#a5599edd96083ebf96ce87853d5f408f2" title=" " alt="" coords="5,5,159,48"/>
<area shape="poly" title=" " alt="" coords="191,29,159,29,159,24,191,24"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="atmega328p_8h.html">atmega328p.h</a></li>
      <address class="footer">
        <a href="http://ykat.de">
        &copy 2024 ykat UG (haftungsbeschrnkt)
        </a>
        </address>
    </li>
    </ul>
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>
  </body>
  </html>